(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1506:function(e,t,o){"use strict";o.r(t);var n=o(17),r=o(1488),l=o.n(r),c=(o(1489),{layout:"default",components:{vSelect:l.a},data:function(){return{dabArray:[],selectedDab:null,info:null}},created:function(){this.$store.state.model.initialised?this.init():n.a.$on("model-initialised",function(){this.init()}.bind(this))},methods:{init:function(){this.parcelles=this.$store.state.model.dab.data.remote.parcelles,this.pools=this.$store.state.model.dab.data.remote.pools,this.dabArray=this.$model.dab().getRemoteDABArray()},submitContract:function(e){if(e.preventDefault(),!this.selectedDab)return alert("Vous devez sélectionner un couple Parcelle/Pool"),!1;this.$model.requerant_contract_register().saveNewContract(this.selectedDab.parcelle,this.selectedDab.pool,this.info)}}}),d=o(84),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("form",{on:{submit:e.submitContract}},[t("label",{attrs:{for:"parcelles"}},[e._v("Couple Parcelle/Pool correspondant à des DABs: ")]),e._v(" "),t("vSelect",{attrs:{id:"dabArray",options:e.dabArray,required:""},scopedSlots:e._u([{key:"option",fn:function(option){return[t("div",{staticClass:"d-center"},[option?t("p",[e._v("\n              Parcelle: "),t("strong",[e._v(e._s(option.parcelle.id))]),e._v(" - Pool: "),t("strong",[e._v(e._s(option.pool.pool))]),e._v(" "),t("br"),e._v("\n              -> DAB: "),t("strong",[e._v(e._s(option.dab))])]):e._e()])]}},{key:"selected-option",fn:function(option){return[t("div",{staticClass:"d-center"},[option?t("p",[e._v("\n              Parcelle: "),t("strong",[e._v(e._s(option.parcelle.id))]),e._v(" - Pool: "),t("strong",[e._v(e._s(option.pool.pool))]),e._v(" "),t("br"),e._v("\n              -> DAB: "),t("strong",[e._v(e._s(option.dab))])]):e._e()])]}}]),model:{value:e.selectedDab,callback:function(t){e.selectedDab=t},expression:"selectedDab"}},[t("template",{slot:"no-options"},[e._v("\n        Chargement des couples Parcelle/Pool en cours...\n      ")])],2),e._v(" "),t("br"),e._v(" "),t("label",{attrs:{for:"info"}},[e._v("Information sur le contrat:")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.info,expression:"info"}],attrs:{id:"info",required:"",placeholder:"Entrez les informations prouvant la validité du contrat (origine, raison,...)"},domProps:{value:e.info},on:{input:function(t){t.target.composing||(e.info=t.target.value)}}}),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),e._m(0)],1)])}),[function(){var e=this._self._c;return e("button",{attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-save"}),this._v(" Enregistrer ce contrat pour validation")])}],!1,null,null,null);t.default=component.exports}}]);